{% extends 'base.html.twig' %}
{% block title %}Article : {{ article.title }}{% endblock %}

{% block body %}
    <div class="container">
        <div class="row">
            <div class="row">

                <div class="col-lg-12">

                    <h1 class="mt-4">{{ article.title }}</h1>

                    <p class="lead">
                        Par
                        <a href="#">{{ article.author.firstname ~ ' ' ~ article.author.lastname }}</a>
                    </p>

                    <hr>
                    <!-- Date/Time -->
                    <div style="display: flex; justify-content: space-between; align-items: center">
                        <p style="margin: 0">Posté le {{ article.createdAt | date("d/m/Y") }}</p>
                        <p style="margin: 0">{{ article.view }} vue(s) </p>
                    </div>

                    <hr>
                    <!-- Preview Image -->
                    <img class="img-fluid rounded" src="{{ article.img }}" alt="">

                    <hr>

                    <!-- Post Content -->
                    <p class="lead">{{ article.content |raw }}</p>

                    <hr>

                    <!-- Comments Form -->
                    <div class="card my-4">
                        <h5 class="card-header">Laisser un commentaire :</h5>
                        <div class="card-body">
                            <div class="form-group">
                                {{ form_start(commentForm) }}
                                {{ form_widget(commentForm.content) }}
                                <br>
                                <button class="btn btn-primary" type="submit">Commenter !</button>
                                {{ form_end(commentForm) }}
                            </div>
                        </div>
                    </div>

                    {% for comment in article.comments | sortbyfield('createdAt', 'desc') %}
                        <div class="media mb-4">
                            <img alt="" class="d-flex mr-3 rounded-circle" src="http://placehold.it/50x50">
                            <div class="media-body">
                                <h5 class="mt-0">{{ comment.author.firstname ~ ' ' ~ comment.author.lastname }}</h5>
                                {{ comment.content }}
                            </div>
                            <div class="row text-right">
                                {{ comment.createdAt | date('d/m/Y à H:m') }}
                            </div>
                        </div>
                    {% endfor %}
                </div>


            </div>

        </div>
    </div>


{% endblock %}